import { Meta, Story, Controls } from '@storybook/blocks';
import * as Stories from './HogakPlayer.stories';
import { HogakPlayer } from '.';

<Meta of={Stories} />

# HogakPlayer
---
<Story of={Stories.Basic} />

<br />
<br />
## Methods

### `getCurrentSeconds()`

현재 재생 중인 시간을 초 단위로 반환합니다.

#### 예시 코드
```tsx
import React, { useRef } from 'react';
import { HogakPlayer } from './HogakPlayer';

const playerRef = useRef<{ getCurrentSeconds: () => number } | null>(null);

  const handleGetCurrentTime = () => {
    if (playerRef.current) {
      const currentTime = playerRef.current.getCurrentSeconds();
      console.log('Current Time:', currentTime);
    }
  };

  return (
    <div>
      <HogakPlayer
        url="https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"
        ref={playerRef}
      />
      <button onClick={handleGetCurrentTime}>Get Current Seconds</button>
    </div>
  );
```

### `setClipView(isShow: boolean)`

클립 모드를 설정합니다.

#### 예시 코드
```tsx
import React, { useRef } from 'react';
import { HogakPlayer } from './HogakPlayer';

const playerRef = useRef<{ setClipView: (value: boolean) => void } | null>(null);

  const handleOnClipView = () => {
    if (playerRef.current) {
      // 클립 뷰 켜기
      playerRef.current.setClipView(true);
    }
  };

  return (
    <div>
      <HogakPlayer
        url="https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"
        ref={playerRef}
      />
      <button onClick={handleOnClipView}>클립 켜기</button>
    </div>
  );
```

### `setClipValues(values: number[])`

클립 시작 시간과 끝 시간을 설정합니다. <br />
배열에는 시작 시간과 끝 시간이 들어가며, 시작 시간은 끝 시간보다 작아야 합니다. <br />
setClipView(true) 이후 호출해야 합니다.

#### 예시 코드
```tsx
import React, { useRef } from 'react';
import { HogakPlayer } from './HogakPlayer';

const playerRef = useRef<{ setClipValues: (values: number[]) => void } | null>(null);

  const handleOnClipValues = () => {
    if (playerRef.current) {
      // 클립 뷰 켜기
      playerRef.current.setClipValues([10, 20]);
    }
  };

  return (
    <div>
      <HogakPlayer
        url="https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"
        ref={playerRef}
      />
      <button onClick={handleOnClipValues}>클립 값 설정</button>
    </div>
  );
```

### `setTagView(isShow: boolean)`

태그 모드를 설정합니다.

#### 예시 코드
```tsx
import React, { useRef } from 'react';
import { HogakPlayer } from './HogakPlayer';

const playerRef = useRef<{ setTagView: (value: boolean) => void } | null>(null);

  const handleOnTagView = () => {
    if (playerRef.current) {
      // 태그 뷰 켜기
      playerRef.current.setTagView(true);
    }
  };

  return (
    <div>
      <HogakPlayer
        url="https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"
        ref={playerRef}
      />
      <button onClick={handleOnTagView}>태그 뷰 켜기</button>
    </div>
  );
```

## Props 
<Controls />